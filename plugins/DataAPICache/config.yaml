name: DataAPICache

callbacks:
  post_remove: $DataAPICache::MT::DataAPICache::purge_all_cache
  post_save: $DataAPICache::MT::DataAPICache::purge_all_cache

config_settings:
  DataAPICacheFileDir:
    default: ./mt-static/support/data-api-cache
  DataAPICacheFilePurgeObjects:
    default: MT::Asset,MT::Author,MT::Blog,MT::Category,MT::CategorySet,MT::ContentData,MT::Comment,MT::Entry,MT::Folder,MT::Page,MT::TBPing,MT::Website

plack_middlewares:
  - name: PMCache
    options:
      - key: cache
        code: $DataAPICache::MT::DataAPICache::get_cache_instance
    condition: $DataAPICache::MT::DataAPICache::is_cacheable
    apply_to:
      - data_api

